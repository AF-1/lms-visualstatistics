const xAxisData=[],yAxisData=[],itemsIDdata=[],labelExtraData=[],IDtargetCat=[],legendtext=[],subtitlelegendtext=[],xLabel=[],yLabel=[],unit=[],valdecimals=[],querytype=[],LMSdata={labels:xAxisData,datasets:[{data:yAxisData,axis:"y",label:yLabel}]};var palette=["rgb(180, 236, 158)","rgb(153, 194, 233)","rgb(251, 221, 124)","rgb(147, 185, 165)","rgb(186, 158, 242)","rgb(238, 196, 151)","rgb(108, 108, 240)","rgb(243, 223, 164)","rgb(220, 129, 121)","rgb(162, 221, 150)","rgb(142, 169, 206)","rgb(246, 224, 210)","rgb(163, 163, 164)","rgb(219, 201, 151)","rgb(208, 207, 209)"],myChartDoughnut,myChartBar,myChartLine,myChartBarStacked,isHorizontal=!0,defaultOrder=!0,maxLabelLength=30,legendTitleFontSize=20;Chart.register(ChartDataLabels);const actions=[{name:"Trigger Hover",handler:triggerHover}];function triggerHover(e){e.getActiveElements().length>0?e.setActiveElements([]):e.setActiveElements([{datasetIndex:0,index:0}]),e.update()}function round(n,e){e.length==0&&(e=1);var t=Math.pow(10,e||0);return Math.round(n*t)/t}function drawBarChart(t){var e=document.getElementById("chartCanvas").getContext("2d");destroyUsedCanvas(e);const n={type:"bar",data:LMSdata,options:{responsive:!0,datasets:{bar:{fill:!1,backgroundColor:["rgba(54, 162, 245, 0.5)"],borderWidth:0,hoverBackgroundColor:"rgba(54, 162, 245, 1)"}},onClick:chartClickEvent,plugins:{legend:{position:"top",onClick:null,labels:{usePointStyle:!0,boxWidth:9}},title:{display:!0,text:legendtext,font:{size:legendTitleFontSize}},subtitle:{display:!0,text:subtitlelegendtext},tooltip:{mode:"nearest",xAlign:"left",yAlign:"center",caretPadding:4,caretSize:8,displayColors:!1,callbacks:{title:function(t){var e="",n="",s;return xLabel.length>0&&(e+=xLabel+":  "),e+=t[0].label,labelExtraData.length>0?(s=labelExtraData[t[0].dataIndex],n+=languageStrings.VLchartlabelArtistName+":  "+s,[e,n]):e},label:function(e){var s=e.dataset.label,n=round(parseFloat(e.dataset.data[e.dataIndex]),valdecimals),t=s+": "+n;return unit.length>0&&(unit.length>1?t+=n==1?unit[0]:unit[1]:t+=unit),t}}},datalabels:{display:!1,anchor:"end",align:"end",clamp:!0,rotation:0,backgroundColor:null,borderWidth:0,formatter:function(e){return round(e,valdecimals)}}},indexAxis:"y",scales:{y:{grid:{display:!1},title:{display:!0,align:"center",text:yLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}},ticks:{callback:function(t){var e=this.getLabelForValue(t);return e.length>maxLabelLength?e.substr(0,maxLabelLength)+"...":e}},reverse:!1},x:{title:{display:!0,align:"center",text:xLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}},ticks:{precision:0},beginAtZero:!0}}}};myChartBar=new Chart(e,n),hideDatalabels(myChartBar,1),toggleColorScheme(myChartBar,"Bar"),t?SwitchToVertical():SwitchToHorizontal()}function drawDoughnutChart(n){var e=document.getElementById("chartCanvas").getContext("2d");e.height=700,destroyUsedCanvas(e);function s(t){const e=t.replace(/ /g,'').slice(4,-1).split(",").map(e=>parseInt(e)),n=Math.max(...e),s=Math.min(...e);return(n+s)/2/255}function o(s){let e={val:-1,index:-1},t={val:1/0,index:-1};s.map((n,s)=>{n>e.val&&(e={val:n,index:s}),n<t.val&&(t={val:n,index:s})}),t.index===e.index&&(t.index=e.index+1);let n={index:3-e.index-t.index};return n.val=s[n.index],[t,n,e]}function i(a){const l=a.replace(/ /g,'').slice(4,-1).split(",").map(e=>parseInt(e)),e=s(a)*255,[i,c,t]=o(l);if(i.val===t.val)return a;const d=Math.round(Math.min(255-e,e)),u=Math.min(255-t.val,i.val),r=Math.min(d/.03,u),h=(e-c.val)/(e-t.val),n=[];return n[t.index]=Math.round(t.val+r),n[i.index]=Math.round(i.val-r),n[c.index]=Math.round(e+(n[t.index]-e)*h),`rgb(${[n].join()})`}const t={type:"doughnut",data:LMSdata,options:{responsive:!0,aspectRatio:16/8,cutout:"55%",datasets:{doughnut:{fill:!1,backgroundColor:function(e){return palette[e.dataIndex%palette.length]},borderWidth:0}},plugins:{legend:{position:"top",labels:{usePointStyle:!0,boxWidth:9}},title:{display:!0,text:legendtext,font:{size:legendTitleFontSize}},subtitle:{display:!0,text:subtitlelegendtext},tooltip:{enabled:!1,external:function(o){if(e=document.getElementById("chartjs-tooltip"),t=o.tooltip,t.opacity===0){e.style.opacity=0;return}function d(e){return e.lines}if(t.body){f=t.title||[],m=t.body.map(d);let o=0;LMSdata.datasets[0].data.forEach(e=>{o+=e});const g=i(t.labelColors[0].backgroundColor),p=LMSdata.datasets[0].data[t.dataPoints[0].dataIndex],v=round(p*100/o,valdecimals)+"%";var e,t,f,m,r=t.body[0].lines[0],c=r.split(": "),n,h,l=c[0].trim(),s=document.getElementById("chartCanvas").getContext("2d"),u=s.canvas.clientWidth,a=s.canvas.clientHeight;e.style.background="rgba(0, 0, 0, 0.7)",e.style.borderRadius="3px",e.style.color="white",e.style.opacity=1,e.style.pointerEvents="none",e.style.left=Math.round((u-e.clientWidth+20)/2)+"px",e.style.top=Math.round((a-e.clientHeight+50+35)/2)+"px",n='<tbody class="doughnutTable"><tr><td style="color:'+g+' !important;">'+l+"</td></tr>",n+='<tr><td class="vstats-doughnuttdcolor">'+p+"</td></tr>",n+='<tr><td class="vstats-doughnuttdcolor">'+v+"</td></tr></tbody>",h=e.querySelector("table"),h.innerHTML=n}}},datalabels:{backgroundColor:null,borderColor:"black",borderWidth:0,color:"black",display:!1,formatter:function(e,t){var n=0,s,e;LMSdata.datasets[0].data.forEach(e=>{n+=e}),s=t.dataset,e=s.data[t.dataIndex];const o=round(e*100/n,valdecimals);return o>1?e:''},rotation:function(s){var t=s.dataset,e,c,l,d,n,o,i=t.data.reduce(function(e,t){return e+t},0),h=t.data.length,r=s.dataIndex,u=t.data[s.dataIndex],a=0;for(e=0;e<r+1;e++)c=t.data[e],a+=c;return l=u/i*360/2,d=a/i*360,n=d-l,o=0,n<=180?o=n-90:o=n-90-180,o},anchor:"center"}}}};n=="longtooltips"&&(t.options.plugins.tooltip={enabled:!0,callbacks:{title:function(t){var e="";return xLabel.length>0&&(e+=xLabel+":  "),e+=t[0].label,unit.length>0&&(unit.length>1?e+=thisValue==1?unit[0]:unit[1]:e+=unit),e},label:function(e){let t=0;LMSdata.datasets[0].data.forEach(e=>{t+=e});var s=e.dataset.label,n=e.dataset.data[e.dataIndex],o=round(n*100/t,valdecimals)+"%";return s+": "+n+"  –––  "+o}}},t.options.plugins.tooltip.external=!1),myChartDoughnut=new Chart(e,t),hideDatalabels(myChartDoughnut,1),toggleColorScheme(myChartDoughnut,"Doughnut")}function drawLineChart(t){var e=document.getElementById("chartCanvas").getContext("2d");destroyUsedCanvas(e);const n={type:"line",data:LMSdata,options:{responsive:!0,datasets:{line:{borderColor:"rgba(54, 162, 245, 1)",backgroundColor:"rgba(54, 162, 245, 0.5)",fill:!0,pointBackgroundColor:"#fff",radius:3,cubicInterpolationMode:"monotone",tension:.4}},plugins:{legend:{position:"top",onClick:null,labels:{usePointStyle:!0,boxWidth:9}},title:{display:!0,text:legendtext,font:{size:legendTitleFontSize}},subtitle:{display:!0,text:subtitlelegendtext},tooltip:{mode:"nearest",xAlign:"center",yAlign:"bottom",caretPadding:4,caretSize:8,displayColors:!1,callbacks:{title:function(t){var e="";return xLabel.length>0&&(e+=xLabel+":  "),e+=t[0].label,unit.length>0&&(unit.length>1?e+=thisValue==1?unit[0]:unit[1]:e+=unit),e},label:function(e){var s=e.dataset.label,n=0;return t=="bitrate"?n=round(parseFloat(e.dataset.data[e.dataIndex]),valdecimals):n=e.dataset.data[e.dataIndex],s+": "+n}}},datalabels:{display:!1}},indexAxis:"x",scales:{x:{grid:{display:!1},title:{display:!0,align:"center",text:xLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}}},y:{title:{display:!0,align:"center",text:yLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}},ticks:{precision:0}}}}};myChartLine=new Chart(e,n),toggleColorScheme(myChartLine,"Line")}function drawStackedBarChart(i,a,c){var o=document.getElementById("chartCanvas").getContext("2d"),n,t,e,s,l;destroyUsedCanvas(o),n=0,c=="BitRate"?n={labels:["<192","192-255","256-319","320-499","500-699","700-999","1000-1200",">1200",languageStrings.VLchartlabelNoBitrate],datasets:[]}:n=i;const r={type:"bar",data:n,options:{responsive:!0,datasets:{bar:{fill:!1,borderWidth:0}},plugins:{legend:{position:"top",labels:{usePointStyle:!0,boxWidth:9}},title:{display:!0,text:legendtext,font:{size:legendTitleFontSize}},subtitle:{display:!0,text:subtitlelegendtext},tooltip:{mode:"nearest",xAlign:"center",yAlign:"bottom",caretPadding:-5,caretSize:8,callbacks:{title:function(t){var e="",n="",s;return xLabel.length>0&&(e+=xLabel+":  "),e+=t[0].label,unit.length>0&&(e+=unit),labelExtraData.length>0?(s=labelExtraData[t[0].dataIndex],n+=languageStrings.VLchartlabelArtistName+":  "+s,[e,n]):e},label:function(e){var n=e.dataset.label,t=e.formattedValue;return n+": "+t+(t==1?" "+languageStrings.VLchartlabelUnitTrack:" "+languageStrings.VLchartlabelUnitTracks)}}},datalabels:{display:!1}},indexAxis:"x",scales:{x:{stacked:!0,grid:{display:!1},title:{display:!0,align:"center",text:xLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}},ticks:{maxRotation:0}},y:{stacked:!0,title:{display:!0,align:"center",text:yLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}},ticks:{precision:0},beginAtZero:!0}}}};t=new Chart(o,r);for(e=0;e<a.length;e++)s=a[e],l={label:s,data:i,parsing:{yAxisKey:s}},t.config.data.datasets.push(l),t.config.data.datasets[e].backgroundColor=palette[e%palette.length];toggleColorScheme(t,"BarStacked"),t.update()}function drawScatterChart(a,r,s,o){var i=document.getElementById("chartCanvas").getContext("2d"),t,n,e,c,l;if(destroyUsedCanvas(i),o=="extraLabel"?(t=LMSdata,n={type:"scatter",data:t,options:{responsive:!0,datasets:{scatter:{pointRadius:7,pointRadiusBorderWidth:0,pointHoverBorderWidth:0,pointHoverRadius:7,backgroundColor:["rgba(54, 162, 245, 0.5)"],hoverBackgroundColor:"rgba(54, 162, 245, 1)"}},plugins:{legend:{position:"top",onClick:null,labels:{usePointStyle:!0,boxWidth:9}},title:{display:!0,text:legendtext,font:{size:legendTitleFontSize}},subtitle:{display:!0,text:subtitlelegendtext},tooltip:{mode:"nearest",xAlign:"center",yAlign:"bottom",caretPadding:4,caretSize:8,displayColors:!1,callbacks:{title:function(e){var n=round(parseFloat(e[0].label.replace(/,/,".")),valdecimals),t=round(parseFloat(e[0].formattedValue.replace(/,/,".")),valdecimals),s=languageStrings.VLchartlabelAveragePlayCount+": "+n+"\n",o=languageStrings.VLchartlabelAverageTrackRating+": "+t+(t==1?languageStrings.VLchartlabelUnitStar:languageStrings.VLchartlabelUnitStars)+"\n____________________";return s+o},label:function(e){return labelExtraData[e.dataIndex]}}},datalabels:{display:!1}},indexAxis:"x",scales:{x:{grid:{display:!1},title:{display:!0,align:"center",text:languageStrings.VLchartlabelAveragePlayCount,color:"rgba(54, 162, 245, 0.8)",font:{size:14}}},y:{ticks:{precision:0},title:{display:!0,align:"center",text:languageStrings.VLchartlabelAverageTrackRating,color:"rgba(54, 162, 245, 0.8)",font:{size:14}},beginAtZero:!0}}}}):(t={labels:r,datasets:[]},n={type:"scatter",data:t,options:{responsive:!0,datasets:{scatter:{pointRadius:7,pointRadiusBorderWidth:0,pointHoverBorderWidth:0,pointHoverRadius:7}},plugins:{legend:{position:"top",labels:{usePointStyle:!0,boxWidth:9}},title:{display:!0,text:legendtext,font:{size:legendTitleFontSize}},subtitle:{display:!0,text:languageStrings.subtitleScatterFileFormats},tooltip:{mode:"nearest",xAlign:"center",yAlign:"bottom",caretPadding:4,caretSize:8,displayColors:!0,callbacks:{title:function(e){return languageStrings.VLchartlabelBitrate+": "+e[0].label+" kbps"},label:function(e){var n=e.dataset.label,t=e.formattedValue;return n+": "+t+(t==1?" "+languageStrings.VLchartlabelUnitTrack:" "+languageStrings.VLchartlabelUnitTracks)}}},datalabels:{display:!1}},indexAxis:"x",scales:{x:{grid:{display:!1},title:{display:!0,align:"center",text:languageStrings.VLchartlabelBitrate,color:"rgba(54, 162, 245, 0.8)",font:{size:14}}},y:{title:{display:!0,align:"center",text:yLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}},ticks:{precision:0},beginAtZero:!0}}}}),myChartScatter=new Chart(i,n),o!="extraLabel")for(e=0;e<s.length;e++)c=s[e],l={label:c,data:a[e]},myChartScatter.config.data.datasets.push(l),myChartScatter.config.data.datasets[e].backgroundColor=palette[e%palette.length];toggleColorScheme(myChartScatter,"Line"),myChartScatter.update()}function updateConfigAsNewObjectHorizontal(e){e.options={responsive:!0,datasets:{bar:{fill:!1,backgroundColor:["rgba(54, 162, 245, 0.5)"],borderWidth:0,hoverBackgroundColor:"rgba(54, 162, 245, 1)"}},onClick:chartClickEvent,plugins:{legend:{position:"top",onClick:null,labels:{usePointStyle:!0,boxWidth:9}},title:{display:!0,text:legendtext,font:{size:legendTitleFontSize}},subtitle:{display:!0,text:subtitlelegendtext},tooltip:{mode:"nearest",xAlign:"left",yAlign:"center",caretPadding:4,caretSize:8,displayColors:!1,callbacks:{title:function(t){var e="",n="",s;return xLabel.length>0&&(e+=xLabel+":  "),e+=t[0].label,labelExtraData.length>0?(s=labelExtraData[t[0].dataIndex],n+=languageStrings.VLchartlabelArtistName+":  "+s,[e,n]):e},label:function(e){var s=e.dataset.label,n=round(parseFloat(e.dataset.data[e.dataIndex]),valdecimals),t=s+": "+n;return unit.length>0&&(unit.length>1?t+=n==1?unit[0]:unit[1]:t+=unit),t}}},datalabels:{display:myChartBar.options.plugins.datalabels.display,anchor:"end",align:"end",clamp:!0,rotation:0,backgroundColor:null,borderWidth:0,formatter:function(e){return round(e,valdecimals)}}},indexAxis:"y",scales:{y:{grid:{display:!1},title:{display:!0,align:"center",text:xLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}},ticks:{callback:function(t){var e=this.getLabelForValue(t);return e.length>maxLabelLength?e.substr(0,maxLabelLength)+"...":e}},reverse:!1},x:{title:{display:!0,align:"center",text:yLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}},ticks:{precision:0},beginAtZero:!0}}},e.update()}function updateConfigAsNewObjectVertical(e){e.options={responsive:!0,datasets:{bar:{fill:!1,backgroundColor:["rgba(54, 162, 245, 0.5)"],borderWidth:0,hoverBackgroundColor:"rgba(54, 162, 245, 1)"}},onClick:chartClickEvent,plugins:{legend:{position:"top",onClick:null,labels:{usePointStyle:!0,boxWidth:9}},title:{display:!0,text:legendtext,font:{size:legendTitleFontSize}},subtitle:{display:!0,text:subtitlelegendtext},tooltip:{mode:"nearest",xAlign:"center",yAlign:"bottom",caretPadding:4,caretSize:8,displayColors:!1,callbacks:{title:function(t){var e="",n="",s;return xLabel.length>0&&(e+=xLabel+":  "),e+=t[0].label,labelExtraData.length>0?(s=labelExtraData[t[0].dataIndex],n+=languageStrings.VLchartlabelArtistName+":  "+s,[e,n]):e},label:function(e){var s=e.dataset.label,n=round(parseFloat(e.dataset.data[e.dataIndex]),valdecimals),t=s+": "+n;return unit.length>0&&(unit.length>1?t+=n==1?unit[0]:unit[1]:t+=unit),t}}},datalabels:{display:myChartBar.options.plugins.datalabels.display,anchor:"end",align:"end",clamp:!0,rotation:-90,backgroundColor:null,borderWidth:0,formatter:function(e){return round(e,valdecimals)}}},indexAxis:"x",scales:{x:{grid:{display:!1},title:{display:!0,align:"center",text:xLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}},ticks:{callback:function(t){var e=this.getLabelForValue(t);return e.length>maxLabelLength?e.substr(0,maxLabelLength)+"...":e},maxRotation:90,minRotation:60,reverse:!1}},y:{title:{display:!0,align:"center",text:yLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}},ticks:{precision:0},beginAtZero:!0}}},e.update()}function SwitchToVertical(){updateConfigAsNewObjectVertical(myChartBar),document.getElementById("togglebtn_layout").innerHTML=languageStrings.buttonLayoutSwitchToHorizontal,isHorizontal=!1,document.getElementById("togglebtn_order").innerHTML=languageStrings.buttonOrderReverse,defaultOrder=!0,myChartBar.options.scales.y.reverse=!1,myChartBar.options.scales.x.reverse=!1}function SwitchToHorizontal(){updateConfigAsNewObjectHorizontal(myChartBar),document.getElementById("togglebtn_layout").innerHTML=languageStrings.buttonLayoutSwitchToVertical,isHorizontal=!0,document.getElementById("togglebtn_order").innerHTML=languageStrings.buttonOrderReverse,defaultOrder=!0,myChartBar.options.scales.y.reverse=!1,myChartBar.options.scales.x.reverse=!1}function chartClickEvent(e,t){if(clickableBars&&clickableBars!="noclick")if(itemsIDdata.length>0&&t[0]){const s=myChartBar.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),[{index:t}]=s;closeNav();let n=LMSwebroot;IDtargetCat=="artist"&&(materialCaller?void 0!=document.lmsMaterialSkin&&void 0!=document.lmsMaterialSkin.browseArtist&&document.lmsMaterialSkin.browseArtist(itemsIDdata[t],xAxisData[t],"ALBUMARTIST"):(Ext.isSafari||(n+="index.html/"),n+="clixmlbrowser/clicmd=browselibrary+items&mode=albums&linktitle="+languageStrings.LMSartist+"%20("+xAxisData[t]+")&artist_id="+itemsIDdata[t]+"&player="+player+"/index.html",window.open(n,"_self"))),IDtargetCat=="album"&&(materialCaller?void 0!=document.lmsMaterialSkin&&void 0!=document.lmsMaterialSkin.browseAlbum&&document.lmsMaterialSkin.browseAlbum(itemsIDdata[t],xAxisData[t]):(Ext.isSafari||(n+="index.html/"),n+="clixmlbrowser/clicmd=browselibrary+items&mode=albums&linktitle="+languageStrings.LMSalbum+"%20("+xAxisData[t]+")&player="+player+"&album_id="+itemsIDdata[t]+"/index.html?index=0",window.open(n,"_self"))),IDtargetCat=="genre"&&(materialCaller?void 0!=document.lmsMaterialSkin&&void 0!=document.lmsMaterialSkin.browseGenre&&document.lmsMaterialSkin.browseGenre(itemsIDdata[t],xAxisData[t]):(Ext.isSafari||(n+="index.html/"),n+="clixmlbrowser/clicmd=browselibrary+items&mode=artists&linktitle="+languageStrings.LMSgenre+"%20("+xAxisData[t]+")&player="+player+"&genre_id="+itemsIDdata[t]+"/index.html",window.open(n,"_self"))),IDtargetCat=="year"&&itemsIDdata[t]>0&&(materialCaller?void 0!=document.lmsMaterialSkin&&void 0!=document.lmsMaterialSkin.browseYear&&document.lmsMaterialSkin.browseYear(itemsIDdata[t]):(Ext.isSafari||(n+="index.html/"),n+="clixmlbrowser/clicmd=browselibrary+items&mode=albums&linktitle="+languageStrings.LMSyear+"%20("+xAxisData[t]+")&player="+player+"&year="+itemsIDdata[t]+"/index.html",window.open(n,"_self"))),IDtargetCat=="track"&&(materialCaller?void 0!=document.lmsMaterialSkin&&void 0!=document.lmsMaterialSkin.trackInfo&&document.lmsMaterialSkin.trackInfo(itemsIDdata[t],xAxisData[t]):(Ext.isSafari||(n+="index.html/"),n+="songinfo.html?linktitle="+languageStrings.LMSsongInfo+"%20("+xAxisData[t]+")&player="+player+"&item="+itemsIDdata[t],window.open(n,"_self")))}}function BarClickEvent(e){const t=myChartBar.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),[{index:n}]=t;console.log(datasets[0].data[n])}function reverseOrder(){defaultOrder?(document.getElementById("togglebtn_order").innerHTML=languageStrings.buttonOrderRestoreDefault,isHorizontal?myChartBar.options.scales.y.reverse=!0:myChartBar.options.scales.x.reverse=!0,defaultOrder=!1):(document.getElementById("togglebtn_order").innerHTML=languageStrings.buttonOrderReverse,isHorizontal?myChartBar.options.scales.y.reverse=!1:myChartBar.options.scales.x.reverse=!1,defaultOrder=!0),myChartBar.update()}function hideDatalabels(e,n){var s=n||0,t="togglebtn_datalabels";e.options.plugins.datalabels.display||s==1?(document.getElementById(t).innerHTML=languageStrings.buttonLabelsShow,e.options.plugins.datalabels.display=!1):(document.getElementById(t).innerHTML=languageStrings.buttonLabelsHide,e.options.plugins.datalabels.display=!0),e.update()}function destroyUsedCanvas(t){var e=Chart.getChart(t);typeof e!="undefined"&&e.destroy()}function toggleColorScheme(e,s){if(colorSchemeLight===!1&&Chart.defaults.color!=="rgba(235, 235, 235, 1)"){Chart.defaults.borderColor="rgba(235, 235, 235, 0.1)",Chart.defaults.color="rgba(235, 235, 235, 1)",e.options.scales.x={color:"rgba(235, 235, 235, 1)",precision:0,beginAtZero:!0,title:{display:!0,align:"center",text:xLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}}},e.options.scales.y={color:"rgba(235, 235, 235, 1)",title:{display:!0,align:"center",text:yLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}}};for(var n=document.getElementsByClassName("overlay"),t=0;t<n.length;t++)n[t].style.backgroundColor="rgba(39, 38, 37, 1)";document.getElementById("colorscheme_value").innerHTML=languageStrings.colorSchemeDark,displayGridLines(e,s)}if(colorSchemeLight===!0&&Chart.defaults.color!=="#666"){Chart.defaults.borderColor="rgba(0, 0, 0, 0.1)",Chart.defaults.color="#666",e.options.scales.x={color:"#666",precision:0,beginAtZero:!0,title:{display:!0,align:"center",text:xLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}}},e.options.scales.y={color:"#666",title:{display:!0,align:"center",text:yLabel,color:"rgba(54, 162, 245, 0.8)",font:{size:14}}},n=document.getElementsByClassName("overlay");for(t=0;t<n.length;t++)n[t].style.backgroundColor="rgba(240, 240, 240, 1)";document.getElementById("colorscheme_value").innerHTML=languageStrings.colorSchemeLight,displayGridLines(e,s)}e.update()}function displayGridLines(e,t){t==="Bar"&&(e.options.scales.y={grid:{display:!1}}),t==="BarTime"&&(e.options.scales.y={ticks:{precision:0},beginAtZero:!0},e.options.scales.x={grid:{display:!1}}),t==="Doughnut"&&(e.options.scales.x={display:!1},e.options.scales.y={display:!1}),t==="Line"&&(e.options.scales.x={grid:{display:!1}}),t==="BarStacked"&&(e.options.scales.x={grid:{display:!1},stacked:!0},e.options.scales.y={stacked:!0})}